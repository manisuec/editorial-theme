{{ define "main" }}
{{ $articleCount := .Paginator.TotalNumberOfElements }}
<div class="container">
    <section class="post-header">
        <h1 class="post-title">{{ .Title }}</h1>
        <p class="hero-subtitle" style="margin-top: 1rem;">
            {{ $articleCount }} {{ if eq $articleCount 1 }}article{{ else }}articles{{ end }}
        </p>
    </section>

    <section class="featured">
        <div class="featured-content">
            {{ range .Paginator.Pages }}
            <a href="{{ .Permalink }}" class="article-card">
                {{ with .Params.categories }}
                <span class="article-tag">{{ index . 0 }}</span>
                {{ end }}
                <h3>{{ .Title }}</h3>
                <p class="article-excerpt">
                    {{ .Summary | truncate 150 }}
                </p>
                <div class="article-meta">
                    <span>{{ .Date.Format "Jan 2, 2006" }}</span>
                    <span class="read-time">{{ .ReadingTime }} min read</span>
                </div>
            </a>
            {{ end }}
        </div>
        {{ partial "pagination.html" . }}
    </section>
</div>
{{ end }}
